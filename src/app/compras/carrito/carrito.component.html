

  <app-header></app-header>

    <br>
    <div class="container-fluid">
      <h1 class="titulo">CARRITO</h1>
      <hr>
      <!-- <table class="table"> -->
        <!-- <thead> -->
          <!-- <tr> -->
            <!-- <th class="tituloCompras">#</th> -->
            <!-- <th class="tituloCompras">Producto</th> -->
            <!-- <th class="tituloCompras">Precio</th> -->
            <!-- <th class="tituloCompras">Total</th>
            <th class="tituloCompras">Cantidad</th> -->
          <!-- </tr>
        </thead>
      </table> -->
      <!-- <app-card-carrito></app-card-carrito> -->

      <table class="table table-borderless">
        <thead class="bg-light">
          <tr>
            <th>Producto</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody *ngIf="cart.length > 0">
          <tr *ngFor="let c of cart">
            <td>
              <div class="d-flex align-items-center">
                <img
                    [src]=c.image
                    alt=""
                    style="width: 45px; height: 45px"
                    class="rounded-box"
                    />
                <div class="ms-3">
                  <p class="fw-bold mb-1">{{c.product}} <button type="button" class="btn btn-link" (click)="deleteCart(c)"><i class="bi bi-trash3"></i></button></p>
                  </div>
              </div>
            </td>
            <td>
              <p class="fw-normal mb-1">$ {{c.price}}</p>
            </td>
            <td class="text-center align-middle">
              <div class="d-flex align-items-center justify-content-center">
                <button class="btn btn-sm btn-outline-primary me-2" (click)="decrement(c)">-</button>
                <p class="fw-normal mb-0">{{c.quantity}} pz</p>
                <button class="btn btn-sm btn-outline-primary ms-2" (click)="increment(c)">+</button>
              </div>
            </td>

            <td>
              <p class="fw-normal mb-1">$ {{ calculateTotal(c) }}</p>
            </td>
          </tr>
        </tbody>

      </table>
      <div *ngIf="cart.length === 0">

        <h1 align="center" >
          Carrito vacio
        </h1>

        <a routerLink="/home/products">
          Continuar comprando
        </a>

      </div>
      <h4 *ngIf="cart.length > 0">
        <p align="right" class="fw-bold">Total: $ {{ calculateGrandTotal() }}</p>
      </h4>

      <br>
      <div align="right" *ngIf="cart.length > 0" class=" gap-2">
        <button class="btn btn-warning btn-rounded" type="button" (click)="procedPay()">Proceder al pago</button>
    </div>


    <br><br><br><br>

        <app-footer></app-footer>
